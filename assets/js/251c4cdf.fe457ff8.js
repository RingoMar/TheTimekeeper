"use strict";(self.webpackChunktiemr_documentation=self.webpackChunktiemr_documentation||[]).push([[109],{7885:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var i=s(4586),a=s(781),n=s(6540),o=s(4848);const r=e=>{let{size:t=24,color:s="#ffffff"}=e;return(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,o.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})};function l(){const[e,t]=(0,n.useState)(""),[s,i]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[h,m]=(0,n.useState)((0,o.jsx)(r,{})),u=e=>{const t=e.split("/"),s=t[t.length-1].split("?")[0];return isNaN(s)?null:s};return(0,o.jsxs)("div",{className:"container container-api",children:[(0,o.jsx)("h1",{children:"Retrieve Stream Start Time"}),(0,o.jsxs)("p",{children:["This page enables you to fetch information about a Twitch stream, like its start time and other details, using an API call. You just need to provide the ",(0,o.jsx)("strong",{className:"apistrong",children:"channel name"})," and the"," ",(0,o.jsx)("strong",{className:"apistrong",children:"video ID"}),", and it will handle the rest, giving you the data you need for your application."]}),(0,o.jsxs)("div",{className:"apiContent",children:[(0,o.jsx)("div",{className:"callcenter",children:(0,o.jsxs)("div",{className:"gridContainer",children:[(0,o.jsx)("div",{className:"action1",children:(0,o.jsx)("h1",{children:"Step One: Get the Vod"})}),(0,o.jsx)("div",{className:"action2",children:(0,o.jsx)("h1",{children:"Step Two: Copy Url"})}),(0,o.jsxs)("div",{className:"getter",children:[(0,o.jsx)("div",{className:"name",children:(0,o.jsx)("div",{className:"form-inline",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"name",className:"form-field",children:"TWITCH USER NAME"}),(0,o.jsx)("input",{type:"input",className:"form-field",placeholder:"KaiCeant",value:e,onChange:e=>t(e.target.value)})]})})}),(0,o.jsx)("div",{className:"vod",children:(0,o.jsx)("div",{className:"form-inline",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"name",className:"form-field",children:"VOD LINK"}),(0,o.jsx)("input",{type:"text",placeholder:"2000000000",className:"form-field",value:s,onChange:e=>i(e.target.value)})]})})}),(0,o.jsx)("div",{className:"smtBtn",children:(0,o.jsx)("button",{className:"submitButton",onClick:async()=>{try{let t={operationName:"VideoMetadata",query:"query VideoMetadata($channelLogin: String!, $videoID: ID!) {  user(login: $channelLogin) { id primaryColorHex isPartner profileImageURL(width: 70) lastBroadcast { id startedAt __typename } __typename }  currentUser { id __typename } video(id: $videoID) {   id title description previewThumbnailURL(height: 60, width: 90) createdAt viewCount publishedAt lengthSeconds broadcastType owner { id login displayName __typename } game { id slug boxArtURL name displayName __typename }  __typename }}",variables:{channelLogin:e.toLowerCase(),videoID:u(s)}};const i=await fetch("https://gql.twitch.tv/gql",{method:"post",headers:{"client-id":"kimne78kx3ncx6brgo4mv6wki5h1ko",Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});if(!i.ok)throw new Error(`HTTP error! Status: ${i.status}`);const a=await i.json();if(null===a.data?.video)throw new Error("Bad request: No video found");d(a.data.video.createdAt),l(JSON.stringify(a,null,2))}catch(t){console.error("Error:",t),l("Error occurred. Please try again. "+t)}},children:"Load Stream Data"})})]}),(0,o.jsx)("div",{className:"setter",children:(0,o.jsxs)("div",{className:"codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module",children:[(0,o.jsx)("pre",{className:"prism-code language-text codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar",style:{color:"rgb(248, 248, 242)",backgroundColor:"rgb(40, 42, 54)"},children:(0,o.jsx)("code",{className:"codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module",children:(0,o.jsx)("span",{className:"token-line",style:{color:"rgb(248, 248, 242)"},children:(0,o.jsxs)("span",{className:"token plain",children:["https://ringomar.github.io/timer?time=",(0,o.jsx)("strong",{children:c})]})})})}),(0,o.jsx)("button",{className:"copy-button",onClick:()=>{return e=c,void navigator.clipboard.writeText("https://ringomar.github.io/timer?time="+e).then((()=>{console.log("Text copied to clipboard:",e),m("Copied!"),setTimeout((()=>{m((0,o.jsx)(r,{}))}),1700)})).catch((e=>{console.error("Unable to copy text to clipboard:",e),m("error")}));var e},children:h})]})})]})}),(0,o.jsxs)("div",{className:"debugContain",children:[(0,o.jsx)("h3",{children:"RAW OUTPUT"}),(0,o.jsx)("pre",{children:a})]})]})]})}function c(){const{siteConfig:e}=(0,i.A)();return(0,o.jsx)(a.A,{title:"API",description:"Ringo Mar's Timer browser source for OBS",children:(0,o.jsx)("main",{children:(0,o.jsx)(l,{})})})}}}]);