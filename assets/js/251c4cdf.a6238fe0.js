"use strict";(self.webpackChunktiemr_documentation=self.webpackChunktiemr_documentation||[]).push([[109],{6168:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var n=s(4586),o=s(781),a=s(6540),i=s(4848);const r=e=>{let{label:t,type:s="text",value:n,onChange:o,handleKeyDown:r}=e;const[l,c]=(0,a.useState)(!1);return(0,i.jsxs)("div",{className:"floating-label-input "+(l||n?"active":""),children:[(0,i.jsx)("input",{type:s,value:n,onChange:e=>o(e.target.value),onFocus:()=>c(!0),onBlur:()=>c(!!n),onKeyDown:e=>r(e),className:"floating-input"}),(0,i.jsx)("label",{className:"floating-label",children:t})]})},l=e=>{let{text:t,maxLength:s=100}=e;const[n,o]=(0,a.useState)(!1),r=t.length>s;return(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:n||!r?t:`${t.substring(0,s)}...`}),r&&(0,i.jsx)("button",{onClick:()=>{o(!n)},children:n?"Read Less":"Read More"})]})},c=e=>{let{size:t=24,color:s="#ffffff"}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,i.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})};function d(){const[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)(""),[o,d]=(0,a.useState)(""),[h,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(!0),[p,g]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!1),[w,b]=(0,a.useState)(2),[y,k]=(0,a.useState)("https://feelsunnyman.github.io/tools/timer/"),[f,N]=(0,a.useState)(""),[C,S]=(0,a.useState)((0,i.jsx)(c,{})),T=async()=>{try{const e=await fetch("https://gomar.vercel.app/broadcastlive",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://ringomar.github.io"},body:JSON.stringify({channelname:s})});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const t=await e.json();if(console.log(t),null===t.data.user.stream)throw new Error("Bad request: Channel Not live!");N(t.data.user.stream.createdAt),u(JSON.stringify(t,null,2))}catch(e){console.error("Error:",e),u("Error occurred. Please try again.")}};return(0,i.jsxs)("div",{className:"container container-api",children:[(0,i.jsx)("h1",{children:"Retrieve Stream Start Time"}),(0,i.jsxs)("p",{children:["This page enables you to fetch information about a Twitch stream, like its start time and other details, using an API call. You just need to provide the ",(0,i.jsx)("strong",{className:"apistrong",children:"channel name"})," and the"," ",(0,i.jsx)("strong",{className:"apistrong",children:"video ID"}),", and it will handle the rest."]}),(0,i.jsxs)("div",{className:"apiContent",children:[(0,i.jsxs)("div",{className:"callcenter",children:[(0,i.jsx)("h3",{children:"CREATE URL"}),(0,i.jsx)("div",{className:"create-time",children:(0,i.jsx)("div",{className:"create-container",children:(0,i.jsxs)("div",{className:"customTime",children:[(0,i.jsxs)("div",{className:"infoTwitch time-container-preview",children:[(0,i.jsx)("h3",{children:"Use Twitch's GraphQL API to retrieve the precise time in UTC seconds."}),(0,i.jsxs)("small",{className:"highlight",children:["*Use the"," ",(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"#F5FAD5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"})})," ","to fetch the current live stream"," "]}),(0,i.jsxs)("div",{className:"flex-box",children:[(0,i.jsx)("div",{className:"SunCheck",children:(0,i.jsxs)("label",{htmlFor:"feelSunny",title:"Feelng Sunny?",className:"radioBtn",children:[(0,i.jsx)("input",{title:"Feelng Sunny?",type:"checkbox",id:"feelSunny",className:"radioAction",defaultChecked:m,onClick:()=>{x(!m),k(m?"https://ringomar.github.io/timer/":"https://feelsunnyman.github.io/tools/timer/")}}),"\u2600\ufe0f?"]})}),(0,i.jsx)("div",{className:"setOutline",children:(0,i.jsxs)("label",{htmlFor:"outlineStroke",title:"Change Stroke outline",className:"radioBtn",children:["Text Outline: ",w,(0,i.jsx)("input",{title:"Feelng Sunny?",type:"range",id:"outlineStroke",value:w,min:1,max:10,step:1,onChange:e=>{b(e.target.value),g(2!=e.target.value)}})]})}),(0,i.jsx)("div",{className:"setWhite",children:(0,i.jsxs)("label",{htmlFor:"allWhite",title:"Add text Shadow",className:"radioBtn",children:["White Text Mode",(0,i.jsx)("input",{title:"Feelng Sunny?",type:"checkbox",id:"allWhite",className:"radioAction",defaultChecked:j,onClick:()=>{v(!j)}})]})})]})]}),(0,i.jsx)("div",{className:"codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module outputLayer time-container-preview",children:(0,i.jsx)("pre",{className:"prism-code language-text codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar",style:{color:"rgb(248, 248, 242)",backgroundColor:"rgb(40, 42, 54)",width:"100%"},children:(0,i.jsx)("code",{className:"codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module",children:(0,i.jsxs)("span",{className:"token-line copy-container",style:{color:"rgb(248, 248, 242)"},children:[(0,i.jsxs)("span",{className:"token plain resp_copy",children:[y,"?time=",(0,i.jsx)("strong",{children:f}),p?`&stroke=${w}`:"",j?`&white=${j}`:""]}),(0,i.jsx)("button",{className:"copy-button",onClick:()=>(()=>{try{if(!f)throw new Error("No time");let e=p?`&stroke=${w}`:"",t=j?`&white=${j}`:"";navigator.clipboard.writeText(`${y}?time=${f}${e}${t}`).then((()=>{console.log("Text copied to clipboard:",f),S("Copied!")})).catch((e=>{throw console.error("Unable to copy text to clipboard:",e),new Error(e)}))}catch(e){S(e)}setTimeout((()=>{S((0,i.jsx)(c,{}))}),1700)})(),children:C})]})})})}),(0,i.jsxs)("div",{className:"time-container-preview",children:[(0,i.jsxs)("div",{className:"fetch-vod",children:[(0,i.jsx)(r,{label:"TWITCH USER NAME",value:s,onChange:n,handleKeyDown:e=>{"Enter"===e.key&&T()}}),(0,i.jsxs)("div",{className:"fetch-button",children:[(0,i.jsx)("button",{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),onClick:T,children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 24 24",fill:"none",stroke:"#F5FAD5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"})})}),e&&(0,i.jsx)("div",{className:"fetch-tool-tip",children:"Fetch current vod"})]})]}),(0,i.jsx)(r,{label:"VOD LINK",value:o,onChange:d,handleKeyDown:e=>{"Enter"===e.key&&T()}}),(0,i.jsx)("div",{className:"smtBtn",children:(0,i.jsx)("button",{className:"submitButton",onClick:async()=>{try{const e=await fetch("https://gomar.vercel.app/broadcast",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://ringomar.github.io"},body:JSON.stringify({channelname:s,videoid:o})});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const t=await e.json();if(null===t.data?.video)throw new Error("Bad request: No video found");N(t.data.video.createdAt),u(JSON.stringify(t,null,2))}catch(e){console.error("Error:",e),u("Error occurred. Please try again.")}},disabled:!(o&&s),children:"Load Stream Data"})})]})]})})})]}),(0,i.jsxs)("div",{className:"debugContain",children:[(0,i.jsx)("h3",{children:"RAW OUTPUT"}),(0,i.jsx)("pre",{children:(0,i.jsx)(l,{text:h,maxLength:200})})]})]})]})}function h(){const{siteConfig:e}=(0,n.A)();return(0,i.jsx)(o.A,{title:"API",description:"Ringo Mar's Timer browser source for OBS",children:(0,i.jsx)("main",{children:(0,i.jsx)(d,{})})})}}}]);