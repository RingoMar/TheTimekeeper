"use strict";(self.webpackChunktiemr_documentation=self.webpackChunktiemr_documentation||[]).push([[109],{833:(e,t,r)=>{r.d(t,{A:()=>n});r(6540);var s=r(4848);const n=e=>{let{size:t=22,color:r="currentColor"}=e;return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,s.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,s.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}},4794:(e,t,r)=>{r.d(t,{A:()=>n});r(6540);var s=r(4848);const n=e=>{let{size:t=21,color:r="currentColor"}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,s.jsx)("path",{d:"M21.2 15c.7-1.2 1-2.5.7-3.9-.6-2-2.4-3.5-4.4-3.5h-1.2c-.7-3-3.2-5.2-6.2-5.6-3-.3-5.9 1.3-7.3 4-1.2 2.5-1 6.5.5 8.8M12 19.8V12M16 17l-4 4-4-4"})})}},6815:(e,t,r)=>{r.d(t,{A:()=>n});r(6540);var s=r(4848);const n=e=>{let{size:t=24,color:r="curentColor"}=e;return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,s.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}},3867:(e,t,r)=>{r.d(t,{A:()=>n});r(6540);var s=r(4848);const n=e=>{let{size:t=21,color:r="currentColor"}=e;return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,s.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}},1872:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var s=r(4586),n=r(781),o=r(6540),a=r(4164),i=r(8774),l=r(6815);const c={container:"container_p3DJ",APIcontainer:"APIcontainer_Il3F",copyClass:"copyClass_mHQQ",configContainer:"configContainer_exUH",configCard:"configCard_HzVO",configHeader:"configHeader_elUs",urlHeader:"urlHeader_ZGb7",copyContainer:"copyContainer_Oe8C",headerIntro:"headerIntro_eS5v",configItem:"configItem_UroY",copybtn:"copybtn_A5Ih",customCheckbox:"customCheckbox_AUrK",inputOverwrite:"inputOverwrite_SDfr",customRange:"customRange_uNbS",copyHelp:"copyHelp_YnCX",Sunny:"Sunny_FwnI",ApiToken:"ApiToken_kkfU",errorContainer:"errorContainer_aQ3m",loadApi:"loadApi_rpvE",flashText:"flashText_FWNe",blinker:"blinker_gLJ1",smtBtn:"smtBtn_uxTM"};var d=r(3867),h=r(4794),u=r(833),x=r(4848);const m=e=>{let{label:t,type:r="text",value:s,onChange:n,handleKeyDown:a}=e;const[i,l]=(0,o.useState)(!1);return(0,x.jsxs)("div",{className:"floating-label-input "+(i||s?"active":""),children:[(0,x.jsx)("input",{type:r,value:s,onChange:e=>n(e.target.value),onFocus:()=>l(!0),onBlur:()=>l(!!s),onKeyDown:e=>a(e),className:"floating-input"}),(0,x.jsx)("label",{className:"floating-label",children:t})]})};function p(){const[e,t]=(0,o.useState)(!1),[r,s]=(0,o.useState)(""),[n,p]=(0,o.useState)(""),[g,v]=(0,o.useState)(!0),[j,w]=(0,o.useState)(!1),[A,f]=(0,o.useState)(2),[k,y]=(0,o.useState)(""),[C,N]=(0,o.useState)(!1),[b,S]=(0,o.useState)("https://ringomar.github.io/timer/"),[E,T]=(0,o.useState)(""),[O,_]=(0,o.useState)({time:null,stroke:null,white:!1}),[I,M]=(0,o.useState)((0,x.jsx)(l.A,{}));function H(){const e=new URL(b);for(const t in O)null===O[t]||!1===O[t]?e.searchParams.delete(t):e.searchParams.set(t,O[t]);return e.toString()}const L=async()=>{if(r){try{const e=await fetch("https://gomar.vercel.app/broadcastlive",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://ringomar.github.io"},body:JSON.stringify({channelname:r})});if(!e.ok)throw new Error(`API Error: ${e.status}`);const t=await e.json();if(null===t.data.user.stream)throw new Error("Bad request: Channel Not live!");N(!0),_((e=>({...e,time:t.data.user.stream.createdAt}))),T(t.data.user.stream.createdAt),console.log(JSON.stringify(t,null,2)),y("")}catch(k){console.error("Error:",k),y("Error occurred. Channel may not be live!")}setTimeout((()=>{N(!1)}),600)}};return(0,x.jsx)("div",{className:(0,a.A)(c.container),children:(0,x.jsxs)("div",{className:(0,a.A)(c.APIcontainer),children:[(0,x.jsx)("div",{className:(0,a.A)("header-info",c.copyClass),children:(0,x.jsxs)("div",{className:(0,a.A)(c.headerIntro),children:[(0,x.jsx)("small",{children:"Twitch API Portal"}),(0,x.jsx)("h3",{children:"Easily retrieve and display stream or VOD start times for Twitch below. Enter the Twitch username or VOD link, customize the timer settings, and copy the generated OBS browser source link."})]})}),(0,x.jsxs)("div",{className:(0,a.A)("url-copy",c.copyClass),children:[(0,x.jsxs)("div",{className:c.copyHelp,children:[(0,x.jsx)("h3",{children:"OBS BROWER SOURCE LINK"}),(0,x.jsx)(i.A,{to:"/docs/obs-tutorial/bs",children:(0,x.jsxs)("div",{className:(0,a.A)(c.urlHeader),children:[(0,x.jsx)(u.A,{}),(0,x.jsx)("h3",{children:"HOW TO USE"})]})})]}),(0,x.jsxs)("div",{className:(0,a.A)("url-copy",c.copyContainer),children:[(0,x.jsx)("span",{className:`${C?c.flashText:""} ${c.ApiToken}`,children:H()}),(0,x.jsx)("button",{className:c.copybtn,onClick:()=>(()=>{console.log("copy");try{if(!E)throw new Error("No time");const e=H();console.log(e),navigator.clipboard.writeText(`${e}`).then((()=>{console.log("Text copied to clipboard:",E),M("Copied!")})).catch((e=>{throw console.error("Unable to copy text to clipboard:",e),new Error(e)}))}catch(k){console.log("Copy error:",k),M("Error")}setTimeout((()=>{M((0,x.jsx)(l.A,{}))}),600)})(),children:I})]})]}),(0,x.jsxs)("div",{className:(0,a.A)(c.configContainer),children:[(0,x.jsxs)("div",{className:(0,a.A)(c.configCard),children:[(0,x.jsxs)("div",{className:(0,a.A)(c.configHeader),children:[(0,x.jsx)(h.A,{}),(0,x.jsx)("h3",{children:"Twitch API"})]}),(0,x.jsxs)("small",{className:"highlight",children:["*Use the"," ",(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,x.jsx)("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"})})," ","to fetch the current live stream"," "]}),(0,x.jsxs)("div",{className:"time-container-preview",children:[(0,x.jsxs)("div",{className:"fetch-vod",children:[(0,x.jsx)(m,{label:"TWITCH USER NAME",value:r,onChange:s,handleKeyDown:e=>{"Enter"===e.key&&L()}}),(0,x.jsxs)("div",{className:"fetch-button",children:[(0,x.jsx)("button",{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),onClick:L,children:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 24 24",fill:"none",stroke:"#F5FAD5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,x.jsx)("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"})})}),e&&(0,x.jsx)("div",{className:"fetch-tool-tip",children:"Fetch current vod"})]})]}),(0,x.jsx)(m,{label:"VOD LINK",value:n,onChange:p,handleKeyDown:e=>{"Enter"===e.key&&L()}}),(0,x.jsx)("div",{className:c.smtBtn,children:(0,x.jsx)("button",{className:c.loadApi,onClick:async()=>{try{const e=await fetch("https://gomar.vercel.app/broadcast",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://ringomar.github.io"},body:JSON.stringify({channelname:r,videoid:n})});if(!e.ok)throw new Error(`API ERROR: ${e.status}`);const t=await e.json();if(null===t.data?.video)throw new Error("Bad request: No video found");N(!0),_((e=>({...e,time:t.data.video.createdAt}))),T(t.data.video.createdAt),console.log(JSON.stringify(t,null,2)),y("")}catch(k){console.error("Error:",k),y("Error occurred. Unable to get channel data.")}setTimeout((()=>{N(!1)}),600)},disabled:!(n&&r),children:"Load Stream Data"})})]}),(0,x.jsx)("div",{className:c.errorContainer,children:(0,x.jsx)("h3",{children:k})})]}),(0,x.jsxs)("div",{className:(0,a.A)(c.configCard),children:[(0,x.jsxs)("div",{className:(0,a.A)(c.configHeader),children:[(0,x.jsx)(d.A,{}),(0,x.jsx)("h3",{children:"TIMER SETTINGS"})]}),(0,x.jsxs)("div",{className:(0,a.A)(c.configItem),children:[(0,x.jsxs)("h4",{children:["TEXT STROKE",(0,x.jsxs)("small",{children:["Current Stroke:",A]})]}),(0,x.jsxs)("label",{className:(0,a.A)(c.customRange,c.inputOverwrite),children:[(0,x.jsx)("input",{title:"Time Outline",type:"range",id:"outlineStroke",value:A,min:1,max:10,step:1,onChange:e=>{"2"===e.target.value?(_((e=>({...e,stroke:null}))),f(e.target.value)):(f(e.target.value),_((t=>({...t,stroke:e.target.value}))))}}),(0,x.jsx)("span",{className:c.slider})]})]}),(0,x.jsxs)("div",{className:(0,a.A)(c.configItem),children:[(0,x.jsxs)("h4",{children:["REMOVE SHADOW ",(0,x.jsx)("small",{children:"Makes the timer white"})," "]}),(0,x.jsxs)("label",{className:c.inputOverwrite,children:[(0,x.jsx)("input",{title:"white out mode",type:"checkbox",id:"allWhite",className:"radioAction",defaultChecked:j,onClick:()=>{_((e=>({...e,white:!j}))),w(!j)}}),(0,x.jsx)("span",{className:c.customCheckbox})]})]})]})]})]})})}function g(){const{siteConfig:e}=(0,s.A)();return(0,x.jsx)(n.A,{title:"API",description:"Ringo Mar's Timer browser source for OBS",children:(0,x.jsx)("main",{children:(0,x.jsx)(p,{})})})}}}]);